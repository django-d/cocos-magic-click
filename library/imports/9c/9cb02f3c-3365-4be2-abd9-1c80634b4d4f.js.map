{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\ItemE.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["import Item from \"./Helloworld\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ItemE extends cc.Component {\r\n\r\n    selected: boolean = false;\r\n\r\n\r\n\r\n    card: number;\r\n\r\n    ocolor: cc.Color;\r\n\r\n    group: number = 0;\r\n\r\n    onLoad() {\r\n        this.ocolor = this.node.color;\r\n    }\r\n\r\n    onMove(start: cc.Vec2, point: cc.Vec2) {\r\n        console.log(start, point);\r\n        const left = start.x - point.x > 0;\r\n        const next = this.node.parent.children[this.node.zIndex + 1];\r\n        const spacx = next ? next.x - this.node.x : this.node.width;  // 获得间隔\r\n        const yFlag = (point.y > - this.node.height / 2) && (point.y <= this.node.height / 2);\r\n        const xFlag = (((this.node.x + spacx) > start.x && point.x > this.node.x) && !left)\r\n            || ((point.x < (this.node.x + spacx) && this.node.x < start.x) && left);\r\n        console.log(xFlag);\r\n        const item = this.node.parent.parent.getComponent(Item);\r\n        if (xFlag) {\r\n            // 在范围内\r\n            if (!this.selected && this.node.y === 0) {\r\n\r\n                // 发消息我被选中啦\r\n                console.log('选中要要弹起来');\r\n                item.addselectCard(this.node, this.card);\r\n                // emitEvent('addSelectCard', this.node, this.card);\r\n            } else if (!this.selected && this.node.y !== 0) {\r\n                // 我要被点下去了\r\n                console.log('要被点下去');\r\n                item.removeSelectCard(this.node, this.card);\r\n                // emitEvent('removeSelectCard', this.node, this.card);\r\n            }\r\n            this.selected = true;\r\n            this.node.color = cc.color(16, 16, 16);\r\n        } else {\r\n            // 没在范围内\r\n            if (this.selected) {\r\n                this.node.color = this.ocolor;\r\n                this.selected = false;\r\n                item.cancelSelectCard(this.node, this.card);\r\n                console.log('取消选择。。。');\r\n            }\r\n        }\r\n    }\r\n\r\n    onClick(node: cc.Node) {\r\n        // 不是自己\r\n        if (node !== this.node) {\r\n\r\n        }\r\n    }\r\n}"]}